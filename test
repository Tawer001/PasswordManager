import sqlite3
from sqlite3 import Error


def create_table(conn, sql_table, add_user):
    try:
        cur = conn.cursor()
        cur.execute(sql_table, add_user)

        conn.commit()

    except Error as e:
        print(e)
        

'''def create_user(conn, add_user):
    try:
        cur = conn.cursor()
        cur.execute(add_user)

        conn.commit()

    except Error as e:
        print(e)
'''

def main():
    conn = None
    while True:
        selection = str(input("choose '0 to exit', '1 to connect': "))
        if selection == "1":
            conn = sqlite3.connect('newdb')

            sql_table = ''' CREATE TABLE IF NOT EXISTS newtable (
                        [table_id] INTERGER PRIMARY KEY,
                        [username] TEXT,
                        [password] TEXT) '''

            

            add_user = ''' INSERT INTO {table} 
                        (table_id, username, password) VALUES 
                        (1, 'tamer', '123'),
                        (2, 'ahmed', '555'),
                        (3, 'naser', '949') '''

            table = create_table(conn, sql_table, add_user)

            # user = create_user(conn, add_user)

            c = conn.cursor()
            c.execute("SELECT * FROM newtable")
            rows = c.fetchall()
            for row in rows:
                print(row)

        elif selection == '0':
            exit()

        else:
            print("error")
            

if __name__ == '__main__':
    main()
